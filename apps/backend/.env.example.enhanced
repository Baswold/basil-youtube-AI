# Enhanced Barge-In Configuration Example
# This file demonstrates how to configure the enhanced barge-in,
# ducking, and command routing features.

# Copy this file to .env and customize as needed

# ===== ENHANCED FEATURES =====

# Enable enhanced barge-in features (VAD, ducking, command routing)
USE_ENHANCED_FEATURES=true

# Barge-in Mode
# Options: immediate | graceful | sentence-complete | disabled
# - immediate: Interrupt speakers instantly when human talks
# - graceful: Apply ducking first, wait for grace period (default)
# - sentence-complete: Wait for natural pause or timeout
# - disabled: No interruptions allowed
BARGE_IN_MODE=graceful

# Ducking Profile
# Options: soft | medium | hard
# - soft: -6 dB reduction (subtle)
# - medium: -12 dB reduction (balanced, default)
# - hard: -18 dB reduction (aggressive)
DUCKING_PROFILE=medium

# ===== BASIC CONFIGURATION =====

# Use real adapters (STT/TTS/LLM) instead of mocks
USE_REAL_ADAPTERS=false

# Recording directory
RECORDING_DIR=./recordings

# ===== API KEYS =====

# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-xxxxx

# AssemblyAI (STT)
ASSEMBLYAI_API_KEY=xxxxx

# Google Cloud (STT/TTS)
GOOGLE_APPLICATION_CREDENTIALS=./path/to/credentials.json

# Groq (Guest LLM)
GROQ_API_KEY=gsk_xxxxx

# Together.ai (Guest LLM)
TOGETHER_API_KEY=xxxxx

# OpenAI (Guest LLM)
OPENAI_API_KEY=sk-xxxxx

# ===== MODEL SELECTION =====

# Claude Model
CLAUDE_MODEL=claude-3-5-haiku-20241022

# Guest LLM Provider
# Options: groq | together | openai | local
GUEST_PROVIDER=groq

# Guest Model (depends on provider)
# Groq: mixtral-8x7b-32768, llama-3.1-70b-versatile
# Together: meta-llama/Llama-3-70b-chat-hf
# OpenAI: gpt-4, gpt-3.5-turbo
GUEST_MODEL=mixtral-8x7b-32768

# ===== STT CONFIGURATION =====

# STT Provider
# Options: assemblyai | google | whisper | mock
STT_PROVIDER=assemblyai

# ===== TTS CONFIGURATION =====

# TTS Provider
# Options: google | piper | mock
TTS_PROVIDER=google

# Google TTS Voice (for Claude)
CLAUDE_VOICE=en-US-Neural2-D

# Google TTS Voice (for Guest)
GUEST_VOICE=en-US-Neural2-A

# ===== ADVANCED CONFIGURATION =====

# Server Configuration
PORT=4000
HOST=localhost

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# Log Level
# Options: error | warn | info | debug
LOG_LEVEL=info

# ===== ENHANCED FEATURE ADVANCED OPTIONS =====

# Grace Period (ms) - Time to wait before interrupting
# Default: 300ms
BARGE_IN_GRACE_PERIOD_MS=300

# Ducking Ramp Up Time (ms) - How fast to duck audio
# Default: 50ms
DUCKING_RAMP_UP_MS=50

# Ducking Ramp Down Time (ms) - How fast to restore audio
# Default: 150ms
DUCKING_RAMP_DOWN_MS=150

# Ducking Curve
# Options: linear | exponential | logarithmic
# Default: exponential
DUCKING_CURVE=exponential

# VAD Adaptive Threshold
# Enable automatic adjustment to background noise
# Default: true
VAD_ADAPTIVE_THRESHOLD=true

# VAD Confidence Enabled
# Enable confidence scoring for speech detection
# Default: true
VAD_CONFIDENCE_ENABLED=true

# VAD Speech Threshold
# Energy level required to detect speech (0-1)
# Default: 0.015
VAD_SPEECH_THRESHOLD=0.015

# VAD Release Threshold
# Energy level below which speech is considered ended (0-1)
# Default: 0.008
VAD_RELEASE_THRESHOLD=0.008

# Command Router Fuzzy Matching
# Enable fuzzy matching for misspelled agent names
# Default: true
COMMAND_ROUTER_FUZZY_MATCHING=true

# Command Router Fuzzy Threshold
# Maximum Levenshtein distance for fuzzy matches
# Default: 2
COMMAND_ROUTER_FUZZY_THRESHOLD=2

# ===== EXAMPLE CONFIGURATIONS =====

# Configuration Preset: Responsive (Low Latency)
# USE_ENHANCED_FEATURES=true
# BARGE_IN_MODE=immediate
# DUCKING_PROFILE=hard
# BARGE_IN_GRACE_PERIOD_MS=0
# DUCKING_RAMP_UP_MS=25
# DUCKING_RAMP_DOWN_MS=75

# Configuration Preset: Polite (Natural Conversation)
# USE_ENHANCED_FEATURES=true
# BARGE_IN_MODE=sentence-complete
# DUCKING_PROFILE=soft
# BARGE_IN_GRACE_PERIOD_MS=500
# DUCKING_RAMP_UP_MS=100
# DUCKING_RAMP_DOWN_MS=200

# Configuration Preset: Balanced (Default)
# USE_ENHANCED_FEATURES=true
# BARGE_IN_MODE=graceful
# DUCKING_PROFILE=medium
# BARGE_IN_GRACE_PERIOD_MS=300
# DUCKING_RAMP_UP_MS=50
# DUCKING_RAMP_DOWN_MS=150

# Configuration Preset: Presentation (No Interruptions)
# USE_ENHANCED_FEATURES=true
# BARGE_IN_MODE=disabled
# DUCKING_PROFILE=soft
